<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" sizes="32x32" href="img/favicon.png" />
    <title>Starwood</title>
    
    <link rel="preload" href="fonts/SCJSKK.ttf" as="font" type="font/ttf" crossorigin>

    <style>
      @font-face {
          font-family: SCJSKK;
          src: url("fonts/SCJSKK.ttf") format("truetype");
          font-display: swap; 
      }

      html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
          margin: 0;
          padding: 0;
          border: 0;
          font-size: 100%;
          font: inherit;
          vertical-align: baseline;
      }

      /* Fonts */
      body {
          font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica Neue, Arial, sans-serif;
          font-size: 17px;
          background: #f4f6f8;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
          overflow-x: hidden;
      }

      .SCJSKK { font-family: "SCJSKK", sans-serif; }

      /* Scroll bar */
      ::-webkit-scrollbar {width: 5px;height: 5px;}
      ::-webkit-scrollbar-thumb {border-radius: 1px; background: #BABABA;}
      ::-webkit-scrollbar-track {border-radius: 0px; background: none;}

      ::selection { color: #1d1d1f; background-color: #ddd; text-shadow: none; }
      *:focus { outline: none; }

      html {
          user-select: none;
          cursor: default;
      }

      a { text-decoration: none; color: #7d7d7d; }

      .main {
          max-width: 1030px;
          width: 100%;
          margin: 0 auto;
          border-top: 3px #ec3b5b solid;
          flex: 1;
          position: relative;
          z-index: 1;
      }

      /* Header */
      .header { width: 100%; z-index: 20; }
      .nav { text-align: center; height: 150px; position: relative; } 
      
      .site-logo { z-index: 100; position: absolute; left: 50%; transform: translateX(-50%); top: 15px; }
      .site-logo img { width: 100px; height: auto; display: block; }

      .title { font-size: 2.2rem; margin: 20px 10px; text-align: left; color: #333; }
      .title-info { font-size: 1.3rem; margin: 20px 20px; color: #988f92; text-align: left; }

      .info_items {
          background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
          border: none;
          box-shadow: 2px 2px 5px rgba(0,0,0,0.15);
          border-radius: 8px;
          transition: box-shadow 0.3s ease;
          margin: 5px 10px 15px 10px;
          width: 88%;
          min-width: 150px;
          max-width: 500px;
          position: relative;
          display: flex;
          flex-direction: column;
          padding: 10px;
          text-align: left;
          transform-style: preserve-3d;
          will-change: transform;
      }

      .info_items:hover {
          box-shadow: 5px 15px 25px rgba(0,0,0,0.2);
      }

      .anntime { color: #ec3b5b; font-size: 1.4rem; padding: 5px 10px; padding-bottom: 10px; }

      .card-grid {
          display: flex;
          justify-content: space-around;
          flex-direction: row;
          flex-wrap: wrap; 
          margin: 20px 5px;
      }

      .cards-4 {
          border-radius: 10px;
          margin: 3px;
          width: 100%;
          min-width: 280px;
          max-width: 38%;
          position: relative;
          display: inline-block;
          vertical-align: top;
          text-align: left;
      }

      .icon { display: block; fill: #ec3b5b; animation: heartbeat 2s infinite ease-in-out; }
      
      @keyframes heartbeat {
          0% { transform: scale(1); }
          50% { transform: scale(1.1); }
          100% { transform: scale(1); }
      }

      .footer {
          text-align: center;
          color: #000;
          font-size: 20px;
          margin: 0;
          padding: 30px 40px;
      }

      /* Media Queries */
      @media (max-width: 1012px) {
          .anntime { font-size: 1.4rem; }
      }

      @media (max-width: 768px) {
          .cards-4 { max-width: 100%; display: block; }
          .site-logo img { margin: 0; }
      }

      @media (max-width: 544px) {
          .info_items { max-width: 500px; }
      }
    </style>
  </head>
  <body>
    <header class="header">
      <nav class="nav">
        <a class="site-logo">
          <img src="img/starwood_r.svg" width="100" height="100" alt="Logo">
        </a>
      </nav>
    </header>

    <div class="main">    
      <div class="card-grid"> 
        <div class="cards-4">
            <div class="SCJSKK title">
              我们已经在一起<br><span id="main-timer-text"></span>
            </div>
            <div class="SCJSKK title-info">
              *相当于<span id="total-days"></span>，或者说是<span id="total-hours"></span>、<span id="total-minutes"></span>以及<span id="total-seconds"></span>。
            </div>

          <div class="info_items">
            <svg class="icon" viewBox="0 0 1024 1024" width="48" height="48">
              <path d="M603.12 461.89c-34.99 20.8-70.85-22.8-104.76-19.46l-0.11 0.15c16.15 86.94-82.93 152.26-160.85 117.41-101.74-45.52-67.82-209.53 42.45-212.38 50.97-53.7 159.24-33.97 139.51-53.28-112.94-91.19-291.02-40.21-339.67 97.32-49.17 139 54.95 327.18 84.07 375.61a17.11 17.11 0 0 0 20.4 7.31c31.95-11.34 114.55-43.1 169.46-81.34 79.71-50.42 153.89-132.03 149.49-231.34z" fill="#ec3b5b"></path><path d="M832.28 350.29c-61.98-102.31-214.61-104.54-274.37 2.42-107.19-41.16-218.88 45.58-213.31 157.19 16.88 14.91 41.86 19.85 63.13 12.5-15.53-87.48 73.06-150.5 153.97-100.64 15.85 8.75 34.77-0.78 39.32-17.81 59.13-148.3 286.24-45.82 153.95 156.79-30.97 50.71-46.72 69.45-72.23 102.68-4.84 6.3-12.95 9.26-20.7 7.55-29.26-6.47-52.31-10.9-86.28-21.06-15.53 17.42-32.75 33.49-50.9 48.18 68.71 22.95 100.37 26.84 154.25 39.71a32.969 32.969 0 0 0 33.92-12.1c81.44-106.91 195.27-247.95 119.26-375.41z" fill="#ec3b5b"></path>
            </svg>
              <div id="anniversary-love" class="anntime SCJSKK"></div>
          </div>

          <div class="info_items">
            <svg class="icon" viewBox="0 0 1024 1024" width="48" height="48">
              <path d="M603.12 461.89c-34.99 20.8-70.85-22.8-104.76-19.46l-0.11 0.15c16.15 86.94-82.93 152.26-160.85 117.41-101.74-45.52-67.82-209.53 42.45-212.38 50.97-53.7 159.24-33.97 139.51-53.28-112.94-91.19-291.02-40.21-339.67 97.32-49.17 139 54.95 327.18 84.07 375.61a17.11 17.11 0 0 0 20.4 7.31c31.95-11.34 114.55-43.1 169.46-81.34 79.71-50.42 153.89-132.03 149.49-231.34z" fill="#ec3b5b"></path><path d="M832.28 350.29c-61.98-102.31-214.61-104.54-274.37 2.42-107.19-41.16-218.88 45.58-213.31 157.19 16.88 14.91 41.86 19.85 63.13 12.5-15.53-87.48 73.06-150.5 153.97-100.64 15.85 8.75 34.77-0.78 39.32-17.81 59.13-148.3 286.24-45.82 153.95 156.79-30.97 50.71-46.72 69.45-72.23 102.68-4.84 6.3-12.95 9.26-20.7 7.55-29.26-6.47-52.31-10.9-86.28-21.06-15.53 17.42-32.75 33.49-50.9 48.18 68.71 22.95 100.37 26.84 154.25 39.71a32.969 32.969 0 0 0 33.92-12.1c81.44-106.91 195.27-247.95 119.26-375.41z" fill="#ec3b5b"></path>
            </svg>
              <div id="anniversary-marry" class="anntime SCJSKK"></div>
          </div>
          
          <div class="info_items">
            <svg class="icon" viewBox="0 0 1024 1024" width="48" height="48">
              <path d="M832.2 673.9h-34V496.5c0-73.8-56.3-134.6-128.1-141.9l0.1-57.7c0-16.6-13.4-30-30-30-16.5 0-30 13.4-30 30l-0.1 57.1h-68.7v-57c0-16.6-13.4-30-30-30s-30 13.4-30 30v57h-67.3v-57c0-16.6-13.4-30-30-30s-30 13.4-30 30v57.8c-71.8 7.4-128 68.2-128 141.9v177.4h-34c-16.6 0-30 13.4-30 30s13.4 30 30 30h59.5a34.013 34.013 0 0 0 9 0h503.1a34.013 34.013 0 0 0 9 0h59.5c16.6 0 30-13.4 30-30s-13.5-30.2-30-30.2zM368.7 413.8h13.4c0.6 0 1.3 0.1 1.9 0.1s1.3 0 1.9-0.1h123.4c0.6 0 1.3 0.1 1.9 0.1s1.3 0 1.9-0.1h123.3c1.1 0.1 2.3 0.2 3.5 0.2 1.2 0 2.4-0.1 3.5-0.2h12c45.6 0 82.7 37.1 82.7 82.7v53.7c-8.2 7.2-19.9 10.9-34.8 10.9-16.1 0-28.3-4.3-36.3-12.7-11.3-12-12-29.7-12-34.3 0.1-1.1 0.1-1.9 0.1-2.2 0-8.1-6.4-14.7-14.5-15-8.1-0.3-14.9 5.9-15.5 14 0 0.2-0.1 0.9-0.1 2-0.2 3.3-1.2 14.6-6.8 25.3-8 15.5-21.8 23-42.2 23-14.8 0-26.4-4-34.3-12-13.7-13.7-13.8-35.5-13.8-35.6v-0.2c0-8.2-6.6-14.9-14.8-15h-0.2c-8.2 0-14.9 6.5-15 14.7 0 0.4-0.5 13.3-7.2 25.5-8.3 15.2-22.3 22.6-42.8 22.6-20.4 0-34.2-7.3-42.2-22.4-6.6-12.3-6.8-25.3-6.8-25.4 0-7.8-5.9-14.3-13.7-15-7.7-0.7-14.7 4.7-16.1 12.3-0.4 2.1-9.7 50.5-50 50.5-15.3 0-26-7.1-33.3-15.9v-48.7c0.2-45.7 37.3-82.8 82.9-82.8zM286 583.3c9.9 5.1 21.1 7.7 33.3 7.7 25.8 0 47.3-11.8 62.4-34.1 10.2 16.7 29.7 34.1 66.3 34.1 34.1 0 53.4-15.1 64.4-30.6 2.2 3.3 4.8 6.5 7.8 9.5 13.8 14 32.6 21.1 55.8 21.1 33 0 52-14.4 63-29.7 1.7 2.5 3.7 4.9 5.9 7.3 13.9 14.8 33.5 22.4 58.3 22.4 13 0 24.7-2.1 34.8-6.2v89H286v-90.5z" fill="#ec3b5b"></path><path d="M384.1 223.1m-30 0a30 30 0 1 0 60 0 30 30 0 1 0-60 0Z" fill="#ec3b5b"></path><path d="M513 223.1m-30 0a30 30 0 1 0 60 0 30 30 0 1 0-60 0Z" fill="#ec3b5b"></path><path d="M640 223.1m-30 0a30 30 0 1 0 60 0 30 30 0 1 0-60 0Z" fill="#ec3b5b"></path>
            </svg>
            <div id="birthday-star" class="anntime SCJSKK"></div>
          </div>

          <div class="info_items">   
            <svg class="icon" viewBox="0 0 1024 1024" width="48" height="48">
              <path d="M832.2 673.9h-34V496.5c0-73.8-56.3-134.6-128.1-141.9l0.1-57.7c0-16.6-13.4-30-30-30-16.5 0-30 13.4-30 30l-0.1 57.1h-68.7v-57c0-16.6-13.4-30-30-30s-30 13.4-30 30v57h-67.3v-57c0-16.6-13.4-30-30-30s-30 13.4-30 30v57.8c-71.8 7.4-128 68.2-128 141.9v177.4h-34c-16.6 0-30 13.4-30 30s13.4 30 30 30h59.5a34.013 34.013 0 0 0 9 0h503.1a34.013 34.013 0 0 0 9 0h59.5c16.6 0 30-13.4 30-30s-13.5-30.2-30-30.2zM368.7 413.8h13.4c0.6 0 1.3 0.1 1.9 0.1s1.3 0 1.9-0.1h123.4c0.6 0 1.3 0.1 1.9 0.1s1.3 0 1.9-0.1h123.3c1.1 0.1 2.3 0.2 3.5 0.2 1.2 0 2.4-0.1 3.5-0.2h12c45.6 0 82.7 37.1 82.7 82.7v53.7c-8.2 7.2-19.9 10.9-34.8 10.9-16.1 0-28.3-4.3-36.3-12.7-11.3-12-12-29.7-12-34.3 0.1-1.1 0.1-1.9 0.1-2.2 0-8.1-6.4-14.7-14.5-15-8.1-0.3-14.9 5.9-15.5 14 0 0.2-0.1 0.9-0.1 2-0.2 3.3-1.2 14.6-6.8 25.3-8 15.5-21.8 23-42.2 23-14.8 0-26.4-4-34.3-12-13.7-13.7-13.8-35.5-13.8-35.6v-0.2c0-8.2-6.6-14.9-14.8-15h-0.2c-8.2 0-14.9 6.5-15 14.7 0 0.4-0.5 13.3-7.2 25.5-8.3 15.2-22.3 22.6-42.8 22.6-20.4 0-34.2-7.3-42.2-22.4-6.6-12.3-6.8-25.3-6.8-25.4 0-7.8-5.9-14.3-13.7-15-7.7-0.7-14.7 4.7-16.1 12.3-0.4 2.1-9.7 50.5-50 50.5-15.3 0-26-7.1-33.3-15.9v-48.7c0.2-45.7 37.3-82.8 82.9-82.8zM286 583.3c9.9 5.1 21.1 7.7 33.3 7.7 25.8 0 47.3-11.8 62.4-34.1 10.2 16.7 29.7 34.1 66.3 34.1 34.1 0 53.4-15.1 64.4-30.6 2.2 3.3 4.8 6.5 7.8 9.5 13.8 14 32.6 21.1 55.8 21.1 33 0 52-14.4 63-29.7 1.7 2.5 3.7 4.9 5.9 7.3 13.9 14.8 33.5 22.4 58.3 22.4 13 0 24.7-2.1 34.8-6.2v89H286v-90.5z" fill="#ec3b5b"></path><path d="M384.1 223.1m-30 0a30 30 0 1 0 60 0 30 30 0 1 0-60 0Z" fill="#ec3b5b"></path><path d="M513 223.1m-30 0a30 30 0 1 0 60 0 30 30 0 1 0-60 0Z" fill="#ec3b5b"></path><path d="M640 223.1m-30 0a30 30 0 1 0 60 0 30 30 0 1 0-60 0Z" fill="#ec3b5b"></path>
            </svg>
            <div id="birthday-wood" class="anntime SCJSKK"></div>
          </div>
        </div>
      </div>

      <div class="footer SCJSKK">Copyright © 2017-2026 世佳</div>
      <div>&ensp;</div>
    </div> 

    <script src="js/lunar.min.js"></script>
    <script>
      const CONFIG = {
          loveStartDate: "2017/04/27 14:17:41",
          marriageDate: "2024/02/01", 
          birthdays: {
              star: { type: 'lunar', month: 2, day: 29 },
              wood: { type: 'lunar', month: 9, day: 15 }
          }
      };

      const loveStartDate = new Date(CONFIG.loveStartDate);
      const els = {
          mainTimer: document.getElementById('main-timer-text'),
          totalDays: document.getElementById('total-days'),
          totalHours: document.getElementById('total-hours'),
          totalMinutes: document.getElementById('total-minutes'),
          totalSeconds: document.getElementById('total-seconds'),
          annLove: document.getElementById('anniversary-love'),
          annMarry: document.getElementById('anniversary-marry'),
          birthStar: document.getElementById('birthday-star'),
          birthWood: document.getElementById('birthday-wood'),
          timerBox: document.getElementById('timer-box')
      };

      let lastDay = null;

      function updateTimer() {
          const now = new Date();
          const diff = now - loveStartDate;
          
          const days = Math.floor(diff / 86400000);
          const years = Math.floor(days / 365);
          const daysRemainder = days % 365;
          const hours = Math.floor((diff % 86400000) / 3600000);
          const minutes = Math.floor((diff % 3600000) / 60000);
          const seconds = Math.floor((diff % 60000) / 1000);

          let timeStr = "";
          let hasPreceding = false; 
          let zeroPending = false; 

          function appendUnit(value, unit) {
              if (value > 0) {
                  if (hasPreceding && zeroPending) {
                      timeStr += "零";
                      zeroPending = false;
                  }
                  timeStr += value + unit;
                  hasPreceding = true; 
              } else if (hasPreceding) {
                  zeroPending = true;
              }
          }

          appendUnit(years, "年");
          appendUnit(daysRemainder, "天");
          appendUnit(hours, "时");
          appendUnit(minutes, "分");
          appendUnit(seconds, "秒");

          if (timeStr === "") timeStr = "不到1秒";

          els.mainTimer.innerHTML = timeStr;
          els.totalDays.innerText = `${days}天`;
          els.totalHours.innerText = `${Math.floor(diff / 3600000)}小时`;
          els.totalMinutes.innerText = `${Math.floor(diff / 60000)}分`;
          els.totalSeconds.innerText = `${Math.floor(diff / 1000)}秒`;

          if (now.getDate() !== lastDay) {
              updateAnniversary("love", CONFIG.loveStartDate, "恋爱", els.annLove);
              updateAnniversary("marry", CONFIG.marriageDate, "结婚", els.annMarry);
              updateBirthdays(now);
              lastDay = now.getDate();
          }
          
          if (els.timerBox) els.timerBox.classList.add('loaded');
      }

      function updateAnniversary(type, dateStr, label, el) {
          const now = new Date();
          const originalDate = new Date(dateStr);
          let targetDate = new Date(now.getFullYear(), originalDate.getMonth(), originalDate.getDate());
          if (now > targetDate) targetDate.setFullYear(now.getFullYear() + 1);
          const diffDays = Math.ceil((targetDate - now) / 86400000);
          const anniversaryYear = targetDate.getFullYear() - originalDate.getFullYear();
          const text = diffDays === 0 ? `今天是我们${label}${anniversaryYear}周年纪念日!` : `距离我们${label}${anniversaryYear}周年纪念日还有${diffDays}天。`;
          el.innerHTML = text;
      }

      function updateBirthdays(now) {
          function getBirthdayText(personKey, name) {
              const setting = CONFIG.birthdays[personKey];
              let targetDate;
              if (setting.type === 'lunar') {
                  const currentYear = now.getFullYear();
                  let lunar = Lunar.fromYmd(currentYear, setting.month, setting.day);
                  let solar = lunar.getSolar();
                  targetDate = new Date(solar.getYear(), solar.getMonth() - 1, solar.getDay());
                  if (now > targetDate) {
                      lunar = Lunar.fromYmd(currentYear + 1, setting.month, setting.day);
                      solar = lunar.getSolar();
                      targetDate = new Date(solar.getYear(), solar.getMonth() - 1, solar.getDay());
                  }
              } else {
                  targetDate = new Date(now.getFullYear(), setting.month - 1, setting.day);
                  if (now > targetDate) targetDate.setFullYear(now.getFullYear() + 1);
              }
              const today = new Date(now.getFullYear(), now.getMonth(), now.getDate());
              const targetDay = new Date(targetDate.getFullYear(), targetDate.getMonth(), targetDate.getDate());
              if (today.getTime() === targetDay.getTime()) return `今天是${name}的生日!`;
              else return `距离${name}的生日还有${Math.ceil((targetDay - today) / 86400000)}天。`;
          }
          els.birthStar.innerHTML = getBirthdayText('star', '星星');
          els.birthWood.innerHTML = getBirthdayText('wood', '木头');
      }

      updateTimer(); 
      setInterval(updateTimer, 1000);

      // 3D Tilt Effect
      const cards = document.querySelectorAll('.info_items');
      cards.forEach(card => {
          card.addEventListener('mousemove', (e) => {
              const rect = card.getBoundingClientRect();
              const x = e.clientX - rect.left;
              const y = e.clientY - rect.top;
              const centerX = rect.width / 2;
              const centerY = rect.height / 2;
              
              const rotateX = ((y - centerY) / centerY) * -8; 
              const rotateY = ((x - centerX) / centerX) * 8;

              card.style.transition = 'none';
              card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale3d(1.02, 1.02, 1.02)`;
          });

          card.addEventListener('mouseleave', () => {
              card.style.transition = 'transform 0.5s ease';
              card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale3d(1, 1, 1)';
          });
      });
  </script>
  </body>
</html>